<!DOCTYPE html>
<html>
<head>
  {% load static %}
  <link rel="stylesheet" href="{% static 'style.css' %}">
  <title>Accommodation List</title>
</head>
<body>

  <header>
    <h1>Available Accommodations</h1>
    <nav>
      <a href="{% url 'add_accommodation' %}">Add Accommodation</a>
      <a href="{% url 'create_reservation' %}">Reserve</a>
      <a href="{% url 'rate_accommodation' %}">Rate</a>
      <a href="{% url 'logout' %}">Logout</a>
    </nav>
  </header>

  <br>
  <table border="1">
    <tr>
      <th>Title</th>
      <th>Type</th>
      <th>Price</th>
      <th>Beds</th>
      <th>Bedrooms</th>
      <th>Address</th>
      <th>Available From</th>
      <th>Available To</th>
      <th>Created At</th>
      <th>Actions</th>
    </tr>
    {% for acc in accommodations %}
    <tr>
      <td>{{ acc.title }}</td>
      <td>{{ acc.description }}</td>
      <td>{{ acc.property_type }}</td>
      <td>${{ acc.price }}</td>
      <td>{{ acc.beds }}</td>
      <td>{{ acc.bedrooms }}</td>
      <td>{{ acc.address }}</td>
      <td>{{ acc.available_from }}</td>
      <td>{{ acc.available_to }}</td>
      <td>{{ acc.created_at }}</td>
      <td>
        <a href="{% url 'create_reservation' %}?accommodation={{ acc.id }}">Reserve</a>
      
        {% if acc.can_rate %}
          | <a href="{% url 'rate_accommodation' %}?accommodation={{ acc.id }}">Rate</a>
        {% endif %}

      </td>
    </tr>
    {% endfor %}
  </table>
</body>
</html>
